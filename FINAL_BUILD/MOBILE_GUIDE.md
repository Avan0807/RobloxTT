# 📱 MOBILE GAMEPLAY GUIDE

Hướng dẫn chơi game cultivation trên **Mobile/Tablet**.

---

## 🎮 MOBILE CONTROLS OVERVIEW

### Điều khiển di chuyển:
- **Joystick (Trái dưới)**: Nút tròn xoay di chuyển nhân vật ⭐
  - **8-direction indicators**: Thấy rõ đang đi hướng nào
  - **Rotating arrow**: Mũi tên quay theo hướng di chuyển
  - **Touch ring effect**: Hiệu ứng sáng khi chạm
  - **Auto-scale**: Stick phình to khi kéo xa
- **Dodge Button**: Né tránh + lướt nhanh
- **Stamina Bar**: Hiển thị stamina để dodge

### UI Buttons (Phải):
- **🎒 Inventory** (I) - Túi đồ
- **⚔️ Equipment** (E) - Trang bị
- **🛒 Shop** (B) - Cửa hàng
- **📜 Quest** (Q) - Nhiệm vụ
- **👻 Hồn Phiên** (H) - Hồn Phiên Advanced
- **⚡ Thiên Kiếp** (T) - Thiên Kiếp UI
- **🔧 Admin** (F1) - Admin panel (nếu là admin)

### Skill Buttons (Trên phải):
- **🌊 Hồn Hải Mạn Thiên** - Release all souls (AOE)
- **❤️ Thị Hồn** - Full heal (1000 souls)
- **🌑 Ma Vực** - Demon domain (5000 souls)
- **👹 Ma Hoàng Hóa Thân** - Transform (20K souls)

### Tế Lễ Quick Access (Dưới giữa):
- **⚔️ +50% DMG** (100 souls)
- **👻 Boss** (500 souls)
- **💪 2x Stats** (1000 souls)

### Soul Counter (Giữa dưới):
- **💀 Souls: XXX** - Số linh hồn hiện tại
- **Double tap** để ẩn/hiện skill buttons

---

## 📐 SCREEN LAYOUT

```
┌─────────────────────────────────────────┐
│                                         │
│  [Skill Buttons]              [UI Menu]│
│  🌊 ❤️ 🌑 👹            🎒⚔️🛒📜👻⚡ │
│                                    ☰    │
│                                         │
│                 GAME                    │
│                                         │
│                                         │
│                                         │
│ [Circular Joystick]     [Dodge Button] │
│    ╭─────────╮                 💨      │
│   ↖│  ↑  ↗  │↗                         │
│   ←│   •    │→         💀 Souls: 1234  │
│   ↙│  ↓  ↘  │↘    [⚔️ 100][👻 500][💪]│
│    ╰─────────╯                         │
└─────────────────────────────────────────┘
     ↑ 8-direction indicators + rotating arrow
```

**Joystick Features**:
- **Outer Ring**: Base container với blue glow
- **Inner Ring**: Movement boundary
- **8 Indicators**: Show 8 directions (highlight when moving)
- **Center Dot**: Exact center reference
- **Rotating Arrow**: Points to movement direction
- **Touch Ring**: Glows when touched

---

## 🎯 BASIC MOBILE GAMEPLAY

### 1. Di chuyển và Chiến đấu:

**Di chuyển với Circular Joystick** ⭐:
1. Chạm vào **Joystick area (trái dưới)**
   - Touch ring sẽ sáng lên
   - Stick sẵn sàng di chuyển

2. **Kéo stick theo hướng muốn đi**:
   - Arrow trên stick **xoay theo hướng** kéo
   - Direction indicators (↑→↓←) **highlight** hướng gần nhất
   - Stick **phình to** khi kéo xa (feedback visual)
   - Touch ring **pulse** theo movement

3. **Thả tay**:
   - Stick **tự động quay về center** mượt mà
   - Arrow reset về 0°
   - Indicators reset
   - Nhân vật dừng lại

**Tips**:
- Kéo theo **8 hướng indicators** để di chuyển chính xác
- Arrow giúp thấy rõ đang đi hướng nào
- Stick phình to = đang di chuyển full speed

**Dodge/Lướt**:
1. Nhấn **Dodge Button (phải dưới)**
2. Lướt theo hướng đang di chuyển
3. Cooldown: 1.5 giây
4. Cost: 20 stamina

**Chiến đấu tự động**:
- Game có auto-combat
- Nhân vật tự động tấn công quái gần nhất
- Bạn chỉ cần di chuyển và dodge

### 2. Mở UIs:

**Cách 1: Tap buttons bên phải**
- Tap 🎒 → Mở Inventory
- Tap ⚔️ → Mở Equipment
- Tap 👻 → Mở Hồn Phiên UI

**Cách 2: Double tap ở giữa màn hình** (emergency)
- Mở menu nhanh với các UIs

**Đóng UI**:
- Tap nút **X** (góc trên phải)
- Hoặc tap ra ngoài UI

### 3. Sử dụng Skills (Ma Đạo):

**Quick Skills (Trên phải)**:
1. Tap skill icon (🌊 ❤️ 🌑 👹)
2. Skill được kích hoạt ngay lập tức
3. Cooldown hiển thị trên button
4. Cần đủ souls mới dùng được

**Ví dụ - Hồn Hải Mạn Thiên**:
1. Có ít nhất 1 soul
2. Tap 🌊
3. Tất cả souls → AOE damage

**Tế Lễ Buffs (Dưới giữa)**:
1. Tap ⚔️ 100 → +50% Soul Damage (10 min)
2. Tap 👻 500 → Summon Boss minion
3. Tap 💪 1000 → 2x All Stats

### 4. Ẩn/Hiện Buttons:

**Ẩn Skill Buttons**:
- **Double tap** 💀 Soul Counter
- Skill buttons biến mất (đỡ che màn hình)

**Hiện lại**:
- **Double tap** 💀 Soul Counter lần nữa

**Ẩn UI Buttons**:
- Tap nút **☰** (Toggle button trên cùng)

---

## 📱 PHONE VS TABLET

### Phone (< 600px width):
- **UI Scale**: 70% (nhỏ hơn)
- **Font Size**: 85%
- **Max UI Width**: 450px
- **Layout**: Compact, buttons nhỏ hơn
- **Admin UI**: Fullscreen mode

### Tablet (≥ 600px width):
- **UI Scale**: 85%
- **Font Size**: 95%
- **Max UI Width**: 650px
- **Layout**: More spacious
- **Admin UI**: Windowed mode

**Auto-detect**: Game tự động phát hiện và scale cho phù hợp!

---

## 🎮 MOBILE WORKFLOWS

### Workflow 1: Tu luyện cơ bản (Mobile)

1. **Di chuyển đến khu tu luyện**:
   - Joystick để di chuyển

2. **Mở Cultivation UI** (có sẵn từ Phase 1-3):
   - Tap meditation area hoặc tap UI button
   - Tap "Meditate" để bắt đầu tu luyện

3. **Farm enemies**:
   - Di chuyển gần quái → Auto attack
   - Dodge khi HP thấp
   - Nhặt loot tự động

4. **Check progress**:
   - Tap 📜 Quest → Xem tiến độ quest

### Workflow 2: Ma Đạo Skills (Mobile)

1. **Kiểm tra souls**:
   - Xem 💀 Soul Counter (giữa dưới)

2. **Buff trước khi combat**:
   - Tap 💪 1000 → 2x Stats (nếu đủ souls)

3. **Chiến đấu với boss**:
   - Joystick → Di chuyển
   - Dodge button → Né đòn boss
   - Tap 🌊 → Release souls (AOE)
   - Tap ❤️ → Heal nếu HP thấp

4. **Domain skill**:
   - Tap 🌑 → Create Ma Vực
   - Đứng trong domain để drain souls

### Workflow 3: Quản lý Items (Mobile)

1. **Mở Inventory**:
   - Tap 🎒 (phải)

2. **Sử dụng items**:
   - Tap item trong inventory
   - Tap "Use" để dùng pill/potion

3. **Equip gear**:
   - Tap ⚔️ → Mở Equipment UI
   - Tap item → Tap "Equip"

4. **Bán items**:
   - Tap 🛒 → Mở Shop
   - Tab "Sell"
   - Tap items → Tap "Sell"

### Workflow 4: Thiên Kiếp (Mobile)

1. **Check readiness**:
   - Tap ⚡ → Mở Thiên Kiếp UI
   - Xem status: Ready hay Not Ready

2. **Start tribulation**:
   - Tap "⚡ START THIÊN KIẾP"
   - Boss spawn 20m phía trước

3. **Fight boss** (với mobile controls):
   - Joystick → Kite boss
   - Dodge → Né skill boss
   - Skills → Tap 🌊 ❤️ 🌑 👹
   - Tế Lễ → Tap buffs để buff

4. **Win**:
   - Boss chết → Auto breakthrough
   - Tap ⚡ → Check new realm

---

## 💡 MOBILE-SPECIFIC TIPS

### 1. Screen Space Management

**Problem**: Quá nhiều buttons che màn hình

**Solution**:
- Double tap 💀 → Ẩn skill buttons
- Tap ☰ → Ẩn UI menu buttons
- Chỉ hiện khi cần dùng

### 2. Fat Finger Problem

**Problem**: Tap nhầm button

**Solution**:
- Buttons đã được spacing rộng
- Có confirm cho critical actions
- Drag joystick chậm để chính xác

### 3. Cooldown Tracking

**Problem**: Không nhớ skill nào đang cooldown

**Solution**:
- Skill buttons show cooldown timer
- Overlay đen + số giây remaining
- Flash effect khi skill ready

### 4. Quick Access

**Problem**: Mở UI mất thời gian

**Solution**:
- Dùng **Tế Lễ Quick Access** (3 buffs phổ biến nhất)
- Dùng **Quick Skills** (4 skills hay dùng nhất)
- Không cần mở Hồn Phiên UI

### 5. Emergency Heal

**Problem**: HP thấp, cần heal gấp

**Solution**:
1. Tap ❤️ (Thị Hồn) → Instant full heal
2. Cost: 1000 souls
3. Cooldown: 60 giây

### 6. Battery Saver

**Problem**: Game tốn pin

**Solution**:
- Giảm graphics trong Roblox settings
- Đóng các UIs không cần thiết
- Ẩn skill buttons khi không combat

---

## 🔧 MOBILE-SPECIFIC FEATURES

### 1. Auto-scaling UIs

**MobileUIScaler.lua** tự động:
- Phát hiện Phone/Tablet
- Scale UI size phù hợp
- Adjust font sizes
- Resize buttons
- Handle orientation changes (portrait ↔ landscape)

### 2. Touch-optimized Buttons

**Đặc điểm**:
- Minimum 60x60px size (dễ tap)
- Rounded corners
- Visual feedback (flash khi tap)
- Cooldown overlays
- Icon + text labels

### 3. Smart Button Hiding

**Double tap 💀**:
- Ẩn/hiện skill buttons
- Giữ màn hình clean
- Quick toggle

**Tap ☰**:
- Ẩn/hiện UI menu
- Free up right side
- For combat focus

### 4. Responsive Layout

**Portrait mode** (dọc):
- Buttons stack vertically
- UIs centered
- Optimized for one-hand

**Landscape mode** (ngang):
- Buttons spread horizontally
- More screen space
- Better for combat

---

## 📊 MOBILE CONTROLS SUMMARY

| Action | Control | Location |
|--------|---------|----------|
| **Move** | Joystick | Left bottom |
| **Dodge** | Button | Right bottom |
| **Inventory** | 🎒 Button | Right side |
| **Equipment** | ⚔️ Button | Right side |
| **Shop** | 🛒 Button | Right side |
| **Quest** | 📜 Button | Right side |
| **Hồn Phiên** | 👻 Button | Right side |
| **Thiên Kiếp** | ⚡ Button | Right side |
| **Admin** | 🔧 Button | Right bottom |
| **Skill 1** | 🌊 Button | Top right |
| **Skill 2** | ❤️ Button | Top right |
| **Skill 3** | 🌑 Button | Top right |
| **Skill 4** | 👹 Button | Top right |
| **Tế Lễ 1** | ⚔️ Button | Bottom center |
| **Tế Lễ 2** | 👻 Button | Bottom center |
| **Tế Lễ 3** | 💪 Button | Bottom center |
| **Toggle Skills** | Double tap 💀 | Bottom center |
| **Toggle UI** | ☰ Button | Top right |

---

## ⚠️ MOBILE LIMITATIONS

### What Works:
- ✅ All movement (joystick)
- ✅ All UIs (responsive)
- ✅ All skills (touch buttons)
- ✅ Quick access (Tế Lễ + skills)
- ✅ Auto-scaling
- ✅ Combat system
- ✅ Admin panel (if admin)

### What's Different:
- ⚠️ No keyboard shortcuts (use buttons instead)
- ⚠️ Smaller UIs (auto-scaled)
- ⚠️ Limited screen space (use toggle buttons)
- ⚠️ Touch precision (buttons are bigger)

### Known Issues:
- ⚠️ Fat finger taps → Use spacing between buttons
- ⚠️ Small text → Auto-scaled for mobile
- ⚠️ Too many buttons → Use toggle to hide

---

## 🎯 MOBILE BEST PRACTICES

### For Combat:
1. Position joystick FIRST
2. Then use skill buttons
3. Keep thumb on dodge button
4. Use Tế Lễ quick access (no need full UI)

### For Inventory Management:
1. Close other UIs first
2. Open one UI at a time
3. Use landscape mode (more space)
4. Zoom UI if needed (pinch gesture)

### For Skills:
1. Pre-buff before combat (Tế Lễ)
2. Use quick skills (don't open full UI)
3. Watch cooldown timers
4. Toggle skills off when not needed

### For Performance:
1. Close UIs after use
2. Hide skill buttons when not Ma Đạo
3. Lower graphics if laggy
4. Use Wi-Fi (better latency)

---

## 🆘 MOBILE TROUBLESHOOTING

### ❌ Joystick không hoạt động

**Solution**:
1. Check MobileControls.lua đã load chưa (console)
2. Restart game
3. Tap outside joystick area first

### ❌ Buttons quá nhỏ

**Solution**:
1. Auto-scaler đã chạy chưa? (check console)
2. Rotate to landscape mode
3. Buttons size: 60x60px minimum

### ❌ Skill buttons không hiện

**Solution**:
1. Bạn có phải Ma Đạo không? (skills chỉ cho Ma Đạo)
2. Check console: "MobileSkillButtons loaded"
3. Double tap 💀 để toggle

### ❌ UI quá lớn/nhỏ

**Solution**:
1. MobileUIScaler.lua tự động scale
2. Tablet vs Phone có scale khác nhau
3. Rotate device để re-scale

### ❌ Admin panel không mở

**Solution**:
1. Bạn có phải admin không?
2. Check AdminModule.Admins list
3. Try tap 🔧 button thay vì F1

---

## 📖 FILES REFERENCE

### Mobile Control Files:

| File | Purpose |
|------|---------|
| **MobileControls.lua** | Joystick + Dodge (base movement) |
| **MobileUIButtons.lua** | UI shortcut buttons (🎒⚔️🛒📜👻⚡🔧) |
| **MobileSkillButtons.lua** | Skill + Tế Lễ buttons (🌊❤️🌑👹) |
| **MobileUIScaler.lua** | Auto-scale UIs for phone/tablet |

---

## 🎉 CONCLUSION

Mobile controls đã được optimize hoàn toàn:
- ✅ **Joystick** cho di chuyển mượt mà
- ✅ **Touch buttons** cho tất cả UIs
- ✅ **Quick access** cho skills & Tế Lễ
- ✅ **Auto-scaling** cho mọi device
- ✅ **Toggle buttons** để quản lý screen space

**Gameplay trên mobile giống PC, chỉ khác controls!** 📱✨

---

**Happy Mobile Gaming! 🎮**
