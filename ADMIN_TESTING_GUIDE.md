# üéÆ Admin Testing & Monetization Guide

## üìã M·ª•c L·ª•c

1. [Admin Commands - Test Game](#admin-commands---test-game)
2. [Quick Test Presets](#quick-test-presets)
3. [Th√™m V≈© Kh√≠/C√¥ng Ph√°p V√†o Shop](#th√™m-v≈©-kh√≠c√¥ng-ph√°p-v√†o-shop)
4. [Monetization - B√°n Cho Ng∆∞·ªùi Ch∆°i](#monetization---b√°n-cho-ng∆∞·ªùi-ch∆°i)
5. [Setup Admin System](#setup-admin-system)

---

## üõ†Ô∏è Admin Commands - Test Game

### C√°ch D√πng Commands

**Trong game, m·ªü chat v√† g√µ:**

```
/commandName [arguments]
```

### üìä Tu Luy·ªán & Progression

```lua
/setRealm MaTon 5          -- Set c·∫£nh gi·ªõi Ma T√¥n c·∫•p 5
/addTuVi 100000            -- Th√™m 100k Tu Vi
/setPath MaDao             -- ƒê·ªïi sang Ma ƒê·∫°o (TienThien/CoThan/MaDao)
```

**Test nhanh t·ª´ng giai ƒëo·∫°n:**
```lua
-- Early game
/setRealm LuyenKhi 3
/addTuVi 10000

-- Mid game
/setRealm MaTon 5
/addTuVi 100000

-- End game
/setRealm MaHoang 9
/addTuVi 1000000
```

### ‚öîÔ∏è Combat Testing

```lua
/heal                      -- H·ªìi full HP
/god                       -- B·∫≠t/t·∫Øt god mode (b·∫•t t·ª≠)
/speed 100                 -- TƒÉng t·ªëc ƒë·ªô di chuy·ªÉn
/resetCooldowns            -- Reset t·∫•t c·∫£ cooldowns
```

### üéÅ Items & Gold

```lua
/giveItem "Kim ƒêan" 10     -- Give 10 Kim ƒêan
/giveGold 1000000          -- Give 1 tri·ªáu gold
/clearInventory            -- X√≥a h·∫øt inventory
```

### üêâ Boss & Enemies

```lua
/spawnBoss "Linh Th√∫ V∆∞∆°ng"    -- Spawn boss
/spawnEnemy Boss 50             -- Spawn enemy level 50
/killAll                        -- Gi·∫øt t·∫•t c·∫£ qu√°i
```

### ‚ö° Skills

```lua
/unlockSkills              -- Unlock t·∫•t c·∫£ skills
/maxSkills                 -- Max t·∫•t c·∫£ skill levels
/resetCooldowns            -- Reset cooldowns
```

### üå©Ô∏è Thi√™n Ki·∫øp

```lua
/startTribulation          -- B·∫Øt ƒë·∫ßu Thi√™n Ki·∫øp
/skipTribulation           -- Skip Thi√™n Ki·∫øp (auto complete)
```

### üîß Ma ƒê·∫°o Specific

```lua
/addSouls 50000           -- Th√™m 50k souls (Ma ƒê·∫°o)
/addKills 10000           -- Th√™m 10k kills
/setTier 5                -- Set T√†n S√°t tier 5
```

### üó∫Ô∏è Teleport

```lua
/tp 0 50 0                -- Teleport ƒë·∫øn v·ªã tr√≠ (x, y, z)
```

### üíæ Data Management

```lua
/save                     -- Force save data
/reset                    -- Reset to√†n b·ªô data (c·∫©n th·∫≠n!)
/info                     -- Xem th√¥ng tin player
/help                     -- Xem t·∫•t c·∫£ commands
```

---

## ‚ö° Quick Test Presets

File [AdminModule.lua](src/ReplicatedStorage/Modules/Admin/AdminModule.lua) c√≥ s·∫µn **5 presets** ƒë·ªÉ test nhanh:

### 1Ô∏è‚É£ Beginner Ma ƒê·∫°o
```lua
/setPath MaDao
/setRealm LuyenKhi 5
/addTuVi 10000
/addSouls 1000
/giveGold 50000
```

### 2Ô∏è‚É£ Mid-Game Ma ƒê·∫°o (Ma T√¥n)
```lua
/setPath MaDao
/setRealm MaTon 5
/addTuVi 100000
/addSouls 10000
/addKills 5000
/giveGold 500000
```

### 3Ô∏è‚É£ End-Game Ma ƒê·∫°o (Ma Ho√†ng)
```lua
/setPath MaDao
/setRealm MaHoang 7
/addTuVi 1000000
/addSouls 100000
/addKills 100000
/giveGold 10000000
/unlockSkills
/maxSkills
```

### 4Ô∏è‚É£ MAX POWER (God Mode)
```lua
/setPath MaDao
/setRealm DoKiep 9
/addTuVi 10000000
/addSouls 500000
/addKills 200000
/giveGold 99999999
/unlockSkills
/maxSkills
/god
/speed 50
```

### 5Ô∏è‚É£ Test Thi√™n Ki·∫øp
```lua
/setPath MaDao
/setRealm LuyenKhi 9
/addTuVi 50000
/heal
/god
```

**üí° Tip:** T·ª± t·∫°o th√™m preset b·∫±ng c√°ch th√™m v√†o `AdminModule.Presets`

---

## üó°Ô∏è Th√™m V≈© Kh√≠/C√¥ng Ph√°p V√†o Shop

### Th√™m V≈© Kh√≠ M·ªõi

M·ªü [ShopModule.lua](src/ReplicatedStorage/Modules/Shop/ShopModule.lua) v√† th√™m v√†o `EquipmentShop`:

```lua
{
    ItemName = "Ma Ho√†ng Ki·∫øm",           -- T√™n v≈© kh√≠
    Category = ShopModule.Category.EQUIPMENT,
    Price = 50000,                         -- Gi√° mua (Gold)
    SellPrice = 25000,                     -- Gi√° b√°n l·∫°i
    Stock = 5,                             -- S·ªë l∆∞·ª£ng (-1 = unlimited)
    LevelRequirement = 20,                 -- Y√™u c·∫ßu level
    Description = "Ki·∫øm Ma Ho√†ng c·ª±c m·∫°nh - +500 Damage",
    Icon = "rbxassetid://123456789",      -- Icon ID

    -- Stats (t·ª± th√™m n·∫øu c·∫ßn)
    Stats = {
        Damage = 500,
        CritRate = 0.2,
        CritDamage = 1.5
    }
}
```

### Th√™m C√¥ng Ph√°p (Skills)

```lua
{
    ItemName = "L√¥i Ph√°p Kinh",
    Category = ShopModule.Category.SPECIAL,
    Price = 100000,                        -- Robux: 1000R$ = 100000
    SellPrice = 0,                         -- Kh√¥ng b√°n l·∫°i ƒë∆∞·ª£c
    Stock = 1,                             -- Limited 1 per player
    LevelRequirement = 15,
    Description = "C√¥ng ph√°p s·∫•m s√©t - Unlock skill L√¥i ƒê√¨nh",
    Icon = "rbxassetid://123456789",

    Type = "Skill",                        -- ƒê√°nh d·∫•u l√† skill
    SkillID = "LightningStrike"
}
```

### Th√™m √Åo Gi√°p

```lua
{
    ItemName = "Ma Ho√†ng Gi√°p",
    Category = ShopModule.Category.EQUIPMENT,
    Price = 80000,
    SellPrice = 40000,
    Stock = 3,
    LevelRequirement = 25,
    Description = "Gi√°p Ma Ho√†ng - +1000 HP, +50 Defense",
    Icon = "rbxassetid://123456789",

    Stats = {
        HP = 1000,
        Defense = 50,
        MagicResist = 30
    }
}
```

---

## üí∞ Monetization - B√°n Cho Ng∆∞·ªùi Ch∆°i

### 1Ô∏è‚É£ B√°n B·∫±ng In-Game Gold (Mi·ªÖn Ph√≠)

**Shop th√¥ng th∆∞·ªùng** - Ng∆∞·ªùi ch∆°i d√πng gold ki·∫øm ƒë∆∞·ª£c trong game:

```lua
-- ShopModule.lua
{
    ItemName = "Ph√†m Ki·∫øm",
    Price = 500,              -- 500 gold
    SellPrice = 250,
    Stock = -1                -- Unlimited
}
```

### 2Ô∏è‚É£ B√°n B·∫±ng Robux (Developer Products)

**T·∫°o Developer Product tr√™n Roblox Creator Hub:**

1. V√†o: https://create.roblox.com/dashboard/creations
2. Ch·ªçn game c·ªßa b·∫°n ‚Üí **Monetization** ‚Üí **Passes**
3. Click **Create a Pass** ho·∫∑c **Developer Products**

#### **Game Pass (Mua 1 l·∫ßn, d√πng m√£i m√£i)**

V√≠ d·ª•: VIP Pass

```lua
-- T·∫°o file: src/ReplicatedStorage/Modules/Shop/GamePassModule.lua

local GamePassModule = {}

GamePassModule.GamePasses = {
    VIP = {
        ID = 123456789,           -- Game Pass ID t·ª´ Creator Hub
        Name = "VIP Pass",
        Price = 299,              -- 299 Robux
        Benefits = {
            "10% discount t·∫•t c·∫£ items",
            "+50% Tu Vi gain",
            "Exclusive VIP chat tag",
            "VIP teleport locations"
        }
    },

    DoubleXP = {
        ID = 987654321,
        Name = "Double XP",
        Price = 199,
        Benefits = {
            "+100% Tu Vi gain",
            "+100% Gold gain"
        }
    }
}

function GamePassModule.HasPass(player, passName)
    local passData = GamePassModule.GamePasses[passName]
    if not passData then return false end

    local MarketplaceService = game:GetService("MarketplaceService")
    local success, hasPass = pcall(function()
        return MarketplaceService:UserOwnsGamePassAsync(player.UserId, passData.ID)
    end)

    return success and hasPass
end

return GamePassModule
```

#### **Developer Products (Mua nhi·ªÅu l·∫ßn)**

V√≠ d·ª•: Gold Packs, Boost Potions

```lua
-- T·∫°o file: src/ReplicatedStorage/Modules/Shop/DevProductModule.lua

local DevProductModule = {}

DevProductModule.Products = {
    -- Gold Packs
    {
        ProductID = 111111111,        -- Developer Product ID
        Name = "100K Gold Pack",
        Price = 99,                   -- 99 Robux
        Type = "Gold",
        Amount = 100000,
        Icon = "rbxassetid://123"
    },
    {
        ProductID = 222222222,
        Name = "500K Gold Pack",
        Price = 399,
        Type = "Gold",
        Amount = 500000,
        Icon = "rbxassetid://456"
    },
    {
        ProductID = 333333333,
        Name = "1M Gold Pack (Best Value!)",
        Price = 699,
        Type = "Gold",
        Amount = 1000000,
        Bonus = 200000,               -- +200k bonus!
        Icon = "rbxassetid://789"
    },

    -- Tu Vi Boosts
    {
        ProductID = 444444444,
        Name = "Tu Vi Boost (1 hour)",
        Price = 149,
        Type = "Boost",
        Duration = 3600,              -- 1 hour
        Multiplier = 2,               -- x2 Tu Vi
        Icon = "rbxassetid://101"
    },

    -- Skill Books
    {
        ProductID = 555555555,
        Name = "Ma Ho√†ng Tuy·ªát H·ªçc",
        Price = 999,
        Type = "Skill",
        SkillID = "MaHoangUltimate",
        Icon = "rbxassetid://202"
    },

    -- Exclusive Weapons
    {
        ProductID = 666666666,
        Name = "Thi√™n ƒê·ªãa Ki·∫øm",
        Price = 1499,
        Type = "Weapon",
        ItemName = "Thi√™n ƒê·ªãa Ki·∫øm",
        Stats = {
            Damage = 1000,
            CritRate = 0.3,
            Special = "Lightning Strike on hit"
        },
        Icon = "rbxassetid://303"
    }
}

function DevProductModule.GetProduct(productID)
    for _, product in ipairs(DevProductModule.Products) do
        if product.ProductID == productID then
            return product
        end
    end
    return nil
end

return DevProductModule
```

### 3Ô∏è‚É£ X·ª≠ L√Ω Mua H√†ng (Server-Side)

```lua
-- src/ServerScriptService/Services/MonetizationService.lua

local MarketplaceService = game:GetService("MarketplaceService")
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local DevProductModule = require(ReplicatedStorage.Modules.Shop.DevProductModule)
local InventoryModule = require(ReplicatedStorage.Modules.Inventory.InventoryModule)

-- ===== PROCESS PURCHASE =====
MarketplaceService.ProcessReceipt = function(receiptInfo)
    local player = Players:GetPlayerByUserId(receiptInfo.PlayerId)
    if not player then
        return Enum.ProductPurchaseDecision.NotProcessedYet
    end

    local product = DevProductModule.GetProduct(receiptInfo.ProductId)
    if not product then
        warn("Unknown product:", receiptInfo.ProductId)
        return Enum.ProductPurchaseDecision.NotProcessedYet
    end

    -- X·ª≠ l√Ω theo type
    if product.Type == "Gold" then
        -- Give gold
        local totalGold = product.Amount + (product.Bonus or 0)
        -- TODO: Add gold to player data
        print(player.Name, "purchased", totalGold, "gold")

    elseif product.Type == "Boost" then
        -- Apply boost
        -- TODO: Apply boost effect
        print(player.Name, "activated", product.Name)

    elseif product.Type == "Skill" then
        -- Unlock skill
        -- TODO: Unlock skill
        print(player.Name, "unlocked skill:", product.SkillID)

    elseif product.Type == "Weapon" then
        -- Give weapon
        InventoryModule.AddItem(player, product.ItemName, 1)
        print(player.Name, "received weapon:", product.ItemName)
    end

    return Enum.ProductPurchaseDecision.PurchaseGranted
end
```

---

## üéØ Setup Admin System

### B∆∞·ªõc 1: Th√™m UserID C·ªßa B·∫°n

M·ªü [AdminModule.lua:10](src/ReplicatedStorage/Modules/Admin/AdminModule.lua#L10):

```lua
AdminModule.Admins = {
    123456789,  -- Thay b·∫±ng UserID c·ªßa b·∫°n
}
```

**T√¨m UserID:**
1. V√†o profile Roblox c·ªßa b·∫°n
2. URL s·∫Ω c√≥ d·∫°ng: `roblox.com/users/123456789/profile`
3. Copy s·ªë `123456789`

### B∆∞·ªõc 2: Test Trong Studio

Trong Studio, admin commands **t·ª± ƒë·ªông ho·∫°t ƒë·ªông** (kh√¥ng c·∫ßn add UserID).

Ch·ªâ c·∫ßn:
1. Play game trong Studio
2. M·ªü chat (/)
3. G√µ `/help` ƒë·ªÉ xem t·∫•t c·∫£ commands

### B∆∞·ªõc 3: T·∫°o Admin UI (Optional)

Thay v√¨ g√µ chat, t·∫°o UI admin panel:

```lua
-- AdminUI.lua (t·ª± t·∫°o)
local AdminUI = {}

function AdminUI.ShowPanel()
    -- Hi·ªÉn th·ªã UI v·ªõi buttons:
    -- [Give Gold] [Set Level] [God Mode] [Spawn Boss]
    -- Click button ‚Üí Fire RemoteEvent ‚Üí Server x·ª≠ l√Ω
end

return AdminUI
```

---

## üìä Test Workflow Recommended

### Test Flow 1: Tu Luy·ªán System

```
1. /setPath MaDao
2. /setRealm LuyenKhi 1
3. /addTuVi 5000
4. Test tu luy·ªán ‚Üí Check level up
5. /addTuVi 100000 ‚Üí Test next realm
6. Check Thi√™n Ki·∫øp trigger
```

### Test Flow 2: Combat System

```
1. /setRealm MaTon 5
2. /unlockSkills
3. /spawnEnemy Boss 10
4. Test combat mechanics
5. /heal (n·∫øu c·∫ßn)
6. /resetCooldowns ‚Üí Test skills
7. /killAll ‚Üí Cleanup
```

### Test Flow 3: Shop System

```
1. /giveGold 100000
2. M·ªü Shop UI (nh·∫•n B)
3. Test mua items
4. Check inventory
5. Test b√°n l·∫°i items
6. Check gold update
```

### Test Flow 4: Boss Battle

```
1. /god ‚Üí B·∫≠t god mode
2. /spawnBoss "Linh Th√∫ V∆∞∆°ng"
3. Test boss mechanics
4. /speed 100 ‚Üí Test kiting
5. /resetCooldowns ‚Üí Spam skills
6. T·∫Øt god mode ‚Üí Test th·∫≠t
```

---

## üí° Tips & Best Practices

### Testing

- ‚úÖ **Lu√¥n b·∫≠t `/god` khi test mechanics** (kh√¥ng b·ªã ch·∫øt)
- ‚úÖ **D√πng `/save` tr∆∞·ªõc khi test nguy hi·ªÉm** (backup data)
- ‚úÖ **Test ·ªü nhi·ªÅu realm kh√°c nhau** (balancing)
- ‚úÖ **D√πng `/info` ƒë·ªÉ ki·ªÉm tra stats** (debug)

### Monetization

- üí∞ **Game Pass cho permanent benefits** (VIP, Double XP)
- üí∞ **Developer Products cho consumables** (Gold, Boosts)
- üí∞ **Special items ch·ªâ b√°n b·∫±ng Robux** (t·∫°o scarcity)
- üí∞ **Bundle deals** (mua nhi·ªÅu = discount)

### Balancing

- ‚öñÔ∏è **Kh√¥ng b√°n weapons qu√° OP** (pay-to-win = bad)
- ‚öñÔ∏è **Cosmetics > Power** (b√°n skins, effects)
- ‚öñÔ∏è **Boosts > Direct power** (x2 XP ok, +9999 damage kh√¥ng ok)

---

## üêõ Troubleshooting

### Commands kh√¥ng ho·∫°t ƒë·ªông?

1. Check UserID ƒë√£ th√™m v√†o `AdminModule.Admins`
2. Check AdminService ƒëang ch·∫°y (ServerScriptService)
3. Check Output window c√≥ l·ªói kh√¥ng

### Mua h√†ng kh√¥ng nh·∫≠n ƒë∆∞·ª£c item?

1. Check `ProcessReceipt` function trong MonetizationService
2. Check Product ID ƒë√∫ng ch∆∞a
3. Check DataStore c√≥ save kh√¥ng

### Shop kh√¥ng hi·ªÉn th·ªã items?

1. Check ShopModule ƒë√£ load ch∆∞a
2. Check ShopUI ƒë√£ require ShopModule
3. Check RemoteEvents ƒë√£ sync

---

## üìö File References

- **Admin Commands:** [AdminModule.lua](src/ReplicatedStorage/Modules/Admin/AdminModule.lua)
- **Shop Items:** [ShopModule.lua](src/ReplicatedStorage/Modules/Shop/ShopModule.lua)
- **Shop UI:** [ShopUI.lua](src/StarterPlayer/StarterPlayerScripts/UI/ShopUI.lua)
- **Game Design:** [GAME_DESIGN.md](GAME_DESIGN.md)

---

Ch√∫c b·∫°n test game hi·ªáu qu·∫£! üöÄ
